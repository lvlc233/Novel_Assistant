# 知识Agent相关
### 知识定义
在该系统中,知识指的是存储在知识库中的信息

其中目前仅标识为作者导入到系统中的小说数据,系统会将小说数据转换为知识图谱,并存储在知识库中。

后续或可开放网络搜索以及其他内容...

### 知识Agent
知识Agent具有将内容转换为知识图谱的能力,并将知识图谱存储在知识库中。
在使用的过程中,知识Agent应该将根据需求,找到最符合合作者需求的知识图谱,并将其返回给合作者。

### 版本
v0.1: 当前只实现了将小说数据转换为知识图谱的功能,并将知识图谱存储在知识库中的`提取`部分

### Agent架构介绍
`
v0.1:知识提取
该图一共有6个节点
1. 切块节点:用于将文档切块
2. 注意节点:用于对文档进行注意力分配
3. 原子实体节点:用于提取文档中的原子实体
4. 依赖实体节点:用于提取文档中的依赖实体
5. 补全节点:用于将所有节点的结果合并为一个知识图谱
6. cypher节点:用于将知识图谱转换为cypher语句

ps: 作者建议将cypher语句的执行独立在外部执行

其中的核心有两个
1. 注意节点: 通过对一小段,一小段的文本进行"注意"计算,以此来高度体量文本信息量,去除无关信息,再通过迭代进行的操作,最终将所有文本的信息量整合起来。当阅读完成后,得到的注意列表就是所有文本的高纯信息了。  
该做法的优点在于,尽可能的避免LLM的U形注意力陷阱,并通过全文的`注意缓存`来确保连贯性,在成本上略微高于一次性将所有文本发送给LLM的做法。但差距不大,成本随着迭代周期线性增加。


2. 分层知识构建:通过先识别,后构建的方式,以此来提高准确度。

![alt text](static/kd_submit_v01.png)

ps: 潜在的优化方向。

![alt text](static/kd_submit_v02.png)

`