# 前端变更日志 - 2026-01-25

## 变更信息
- **时间**: 2026-01-25 12:25
- **提交人**: FrontendAgent(react)
- **目标**: 重构作品创建流程中的"类型选择"逻辑，明确区分"作品形态"(Type)与"作品题材"(Genre)。

## 变更内容

### 1. UI/交互重构 (CreateNovelCard.tsx)
- **类型选择 (Step 1)**: 
  - 将原有的多题材选择改为单一的"小说"形态选择。
  - 响应用户指令："类型是服务于作品的组织形式的...现在只有一种,叫小说"。
- **配置页面 (Step 2 - Basic Info)**:
  - 新增"题材"(Genre)选择区域，包含原有的"玄幻"、"都市"等选项。
  - 默认选中"玄幻"。

### 2. 数据模型扩展
- **前端模型 (`types/novel.ts`)**: 
  - `Novel` 接口新增 `genre` 字段。
- **服务层 (`services/novelService.ts`)**:
  - `CreateNovelDto` 新增 `novel_genre` 字段。
  - Mock 数据生成逻辑适配新增字段。
- **页面逻辑 (`novels/page.tsx`)**:
  - `handleCreateNovel` 函数在创建 DTO 时透传 `genre` 参数。

## 验证方式
- **代码审查**: 确认所有数据流转（从 UI 组件到 Service 调用）均已包含 `genre` 字段。
- **逻辑验证**: 
  1. 点击创建 -> 显示"小说"单一选项 -> 点击进入配置。
  2. 配置页基本信息栏 -> 显示"题材"选择器 -> 能够切换题材。
  3. 提交创建 -> 数据正确传递给后端/Mock服务。
